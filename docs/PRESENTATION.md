# DODAK(도닥) - 시연 발표 자료

## 문서 정보

| 항목 | 내용 |
|------|------|
| 프로젝트명 | DODAK (도닥) - AI 기반 감정 일기 & 심리 케어 플랫폼 |
| 발표 주제 | 프로젝트 시연 발표 |
| 문서 버전 | 1.1 |
| 작성일 | 2026-02-09 |
| 작성자 | 최대영 (PM / 기획-프론트엔드) |

### 개발 인원

6명 (최대영 PM/기획-프론트엔드, 박제연 기획-백엔드, 주현준 프론트엔드, 지태민 데이터베이스-테스트, 서유나 문서작성, 조민솔 문서작성)

---

## 1. 프로젝트 소개

### 1.1 프로젝트 개요

**DODAK (도닥)** 은 AI 기반 감정 일기 & 심리 케어 플랫폼입니다.

"도닥도닥, 당신의 마음을 어루만져 드려요"

바쁜 일상 속 방치되는 감정을 일기를 통해 기록하고, AI가 분석하여 마음 건강을 관리할 수 있는 서비스입니다. 마스코트 '도닥이'(스카프를 두른 다람쥐 캐릭터)가 사용자의 감정 여정을 함께합니다.

### 1.2 프로젝트 배경 및 목표

| 항목 | 내용 |
|------|------|
| **문제 인식** | 현대인의 증가하는 우울증-불안장애, 높은 심리 상담 문턱 |
| **해결 방안** | 일기를 통한 자기 감정 인식 + AI 감정 분석 + 24시간 챗봇 상담 + 감정 맞춤 음악 추천 |
| **핵심 목표** | 누구나 쉽게 감정을 기록하고 AI 도움으로 마음 건강을 관리 |

### 1.3 주요 특징

- **AI 자동 감정 분석**: 일기 저장 시 KoBERT가 9가지 감정을 자동 분류
- **듀얼 챗봇 시스템**: 가벼운 대화(KoGPT2)와 심층 상담(KoBERT) 분리 제공
- **우울증 조기 감지**: 고위험 키워드 감지 시 자동 전문 상담 안내
- **의사-환자 연동**: 의사가 담당 환자의 감정 추이를 대시보드로 모니터링
- **감정 맞춤 음악**: 분석된 감정에 맞는 YouTube 음악 자동 추천

---

## 2. 기술 스택

### 2.1 전체 기술 구성

```
+-------------------------------------------------------------+
|                      Frontend                                 |
|   Thymeleaf (SSR)  |  HTML5 / CSS3  |  JavaScript (ES6+)     |
+-------------------------------------------------------------+
|                      Backend                                  |
|   Spring Boot 3.5.7  |  Spring Security 6  |  JPA + QueryDSL |
+-------------------------------------------------------------+
|                      AI Server                                |
|   FastAPI + Uvicorn  |  KoBERT  |  KoGPT2  |  Selenium       |
+-------------------------------------------------------------+
|                      Database                                 |
|   MySQL 8.0  |  6 Tables  |  Java 17 LTS  |  Maven          |
+-------------------------------------------------------------+
```

### 2.2 상세 기술 스택

| 구분 | 기술 | 설명 |
|------|------|------|
| **Backend** | Spring Boot 3.5.7 | REST API 서버 |
| **보안** | Spring Security 6 | 인증/인가 (세션 기반, BCrypt) |
| **ORM** | Spring Data JPA + QueryDSL 5.0 | 데이터 접근 |
| **AI Server** | FastAPI + Uvicorn | AI 모델 서빙 |
| **감정 분류** | KoBERT (skt/kobert-base-v1) | 9가지 감정 + 우울증 위험도 |
| **대화 생성** | KoGPT2 | AI 챗봇 상담 (Simple) |
| **크롤링** | Selenium | YouTube 음악 검색 |
| **Frontend** | Thymeleaf + JavaScript | SSR 기반 UI |
| **DB** | MySQL 8.0 | 관계형 데이터 저장 (office_mate) |
| **빌드** | Maven, Java 17 | 프로젝트 빌드 |

---

## 3. 시스템 아키텍처

### 3.1 3-Tier 아키텍처

```
+-------------------------------------+
|   Frontend (Thymeleaf + JavaScript) |
+--------------+----------------------+
               |
+--------------v----------------------+
|   Spring Security (인증/인가)        |
+--------------+----------------------+
               |
+--------------v----------------------+
|   Spring Boot REST API (:8083)       |
+------+---------------+--------------+
       |               |
+------v------+ +------v--------------+
| MySQL DB    | | FastAPI AI Server    |
| :3306       | | (192.168.0.16:8000)  |
+-------------+ +------+--------------+
                        |
                 +------v--------------+
                 | KoBERT / KoGPT2     |
                 | YouTube Crawler     |
                 +---------------------+
```

### 3.2 서비스 흐름

```
일기 작성 -> AI 분석 -> 결과 확인 -> 음악 추천
                         |
                    챗봇 상담 -> 전문 상담 연결
```

---

## 4. 주요 기능

### 4.1 기능 목록

| # | 기능 | 설명 | AI 활용 |
|---|------|------|---------|
| 1 | **감정 일기** | 일상의 감정을 자유롭게 기록, 사진 첨부 | - |
| 2 | **AI 감정 분석** | 일기 기반 9가지 감정 비율 + 우울증 위험도 분석 | KoBERT |
| 3 | **AI 챗봇 상담** | 24시간 심리 상담 챗봇 (Simple/Complex) | KoGPT2 + KoBERT |
| 4 | **음악 추천** | 분석된 감정에 맞는 YouTube 음악 추천 | Selenium |
| 5 | **의사 대시보드** | 담당 환자 종합 현황, 감정 분포, 중증 환자 모니터링 | - |
| 6 | **환자 통계** | 개별 환자 월별 감정 추이, 우울/행복 지수 분석 | - |
| 7 | **환자 배정** | 의사-환자 배정 관리, 일기 열람 | - |
| 8 | **병원 관리** | 병원 등록/검색, 의사 소속 병원 연동 | - |

### 4.2 9가지 감정 분석

| 감정 | 영문 | UI 색상 |
|------|------|---------|
| 불안 | Anxiety | 주황 (#FF8C00) |
| 슬픔 | Sadness | 파랑 (#4169E1) |
| 기쁨 | Joy | 초록 (#2E8B57) |
| 분노 | Anger | 빨강 (#FF4444) |
| 후회 | Regret | 보라 (#8B008B) |
| 희망 | Hope | 하늘 (#87CEEB) |
| 중립 | Neutral | 회색 (#808080) |
| 피로 | Tired | 검정 (#333333) |
| 우울 | Depression | 남색 (#191970) |

- 우울증 위험도 자동 감지 (위험 키워드 분석을 통한 조기 발견)

### 4.3 AI 챗봇 상담 예시

| 역할 | 대화 내용 |
|------|-----------|
| 사용자 | "오늘 너무 힘들었어요..." |
| AI 챗봇 | "많이 힘드셨군요. 괜찮아요, 여기에 모든 것을 털어놓아도 좋습니다. 어떤 일이 있었는지 이야기해 주실 수 있나요?" |
| 사용자 | "회사에서 상사한테 혼났어요" |
| AI 챗봇 | "그런 일이 있었군요. 억울하고 속상하셨을 것 같아요. 당신의 감정은 충분히 이해할 수 있어요." |

---

## 5. AI API 명세

| 엔드포인트 | 메서드 | 설명 | 모델 | 응답 시간 |
|-----------|--------|------|------|----------|
| `/diary?s=` | GET | 일기 감정 분석 (9감정 + 우울증) | KoBERT | 5초 이내 |
| `/chatbot/g?s=` | GET | Simple 챗봇 (가벼운 대화) | KoGPT2 | 3초 이내 |
| `/chatbot/b?s=` | GET | Complex 챗봇 (심층 상담) | KoBERT | 3초 이내 |
| `/youtube/search` | POST | 감정 맞춤 음악 검색 | Selenium | 10초 이내 |

### 감정 분석 응답 예시

```json
{
  "anxiety": 10.0,
  "sadness": 20.0,
  "joy": 25.5,
  "anger": 5.0,
  "regret": 6.0,
  "hope": 10.0,
  "neutrality": 15.0,
  "tiredness": 8.5,
  "depression": 15.0
}
```

---

## 6. 데이터베이스 설계

### 6.1 ERD 개요

```
+------------------+       +------------------+       +------------------+
|    tb_member     |       |     tb_diary     |       |   tb_analysis    |
|  (회원)          | 1---N |  (일기)          | 1---1 |  (감정 분석)     |
+------------------+       +------------------+       +------------------+

+------------------+       +------------------+       +------------------+
|   tb_hospital    |       |    tb_doctor     |       |    tb_arrange    |
|  (병원)          | 1---N |  (의사 정보)     | 1---N |  (환자 배정)     |
+------------------+       +------------------+       +------------------+
```

### 6.2 테이블 목록 (6개)

| 테이블 | 설명 | 주요 컬럼 |
|--------|------|----------|
| tb_member | 회원 | user_id, password, name, email, role |
| tb_diary | 일기 | id(FK), diary_title, diary_content, file1~3 |
| tb_analysis | 감정 분석 | diary_idx(FK), 9개 감정 비율, depression_ratio |
| tb_hospital | 병원 | hosp_name, addr1, addr2, tel |
| tb_doctor | 의사 정보 | hosp_idx(FK), member_id(FK), specialty |
| tb_arrange | 환자 배정 | member_id(FK), doc_idx(FK), status |

---

## 7. 보안 설계

| 항목 | 구현 방식 |
|------|----------|
| **인증** | Spring Security 세션 기반 인증 |
| **비밀번호** | BCrypt 단방향 암호화 |
| **권한 제어** | 역할 기반 접근 제어 (USER / DOCTOR) |
| **세션 관리** | CustomAuthSuccessHandler 역할별 리다이렉트 |
| **CORS** | 허용된 Origin만 접근 가능 |

---

## 8. 화면 구성

### 8.1 사용자 화면 (15개)

| 분류 | 화면 | 경로 |
|------|------|------|
| **공개** | 메인 랜딩 페이지 | `/` |
| **공개** | 로그인 | `/login` |
| **공개** | 회원가입 | `/join` |
| **회원** | 회원 홈 | `/member/home` |
| **회원** | 일기 작성 | `/member/diary-write` |
| **회원** | 일기 목록 | `/member/diary-list` |
| **회원** | 마이페이지 | `/member/mypage` |
| **의사** | 의사 홈 | `/doctor/home` |
| **의사** | 의사 대시보드 | `/doctor/dashboard` |
| **의사** | 환자 통계 | `/doctor/patient-stats` |
| **의사** | 환자 일기 목록 | `/doctor/patient-diary-list` |
| **의사** | 의사 마이페이지 | `/doctor/mypage` |
| **병원** | 병원 등록 | `/hospital/addForm` |
| **병원** | 병원 검색 팝업 | `/hospital/searchPopup` |
| **공통** | 일기 상세 모달 | (오버레이) |

---

## 9. 프로젝트 성과

### 9.1 구현 결과

| 항목 | 수치 |
|------|------|
| Java 클래스 | 40+ 개 |
| AI API | 5개 |
| DB 테이블 | 6개 |
| 감정 분류 | 9종 + 우울증 위험도 |
| REST 엔드포인트 | 30+ 개 |
| 화면 수 | 15개 |
| 테스트 케이스 | 217개 (기능 177 + 통합 40) |

### 9.2 성능 달성

| 항목 | 목표 | 실측 | 결과 |
|------|------|------|------|
| API 응답 | 2초 이내 | 평균 167ms | **PASS** |
| 페이지 로딩 | 3초 이내 | 평균 462ms | **PASS** |
| AI 감정 분석 | 5초 이내 | 평균 2.3초 | **PASS** |
| 챗봇 응답 | 3초 이내 | 평균 2.0초 | **PASS** |
| 동시 접속 | 100명+ | 100명 정상 | **PASS** |

---

## 10. 기대 효과

| 효과 | 설명 |
|------|------|
| **자기 인식 향상** | 일기 작성을 통한 자신의 감정 패턴 인식 및 이해 |
| **조기 발견** | 우울증 위험도 분석을 통한 심리 문제 조기 감지 |
| **접근성 향상** | 24시간 AI 챗봇으로 언제든 심리 지원 가능 |
| **데이터 기반 상담** | 의사가 환자의 장기 감정 추이를 활용한 정확한 상담 |
| **치유 콘텐츠** | 감정 맞춤 음악 추천으로 자연스러운 감정 케어 |

---

## 변경 이력

| 버전 | 날짜 | 변경 내용 | 작성자 |
|------|------|-----------|--------|
| 1.0 | 2026-02-07 | 최초 작성 | 최대영 |
| 1.1 | 2026-02-09 | DOT-Project 형식 적용, 9가지 감정 체계 반영, 아키텍처/DB/보안/성능 섹션 상세화, 화면 구성 전체 반영 | 최대영 |

---

*DODAK - 도닥도닥, 당신의 마음을 어루만져 드려요*
