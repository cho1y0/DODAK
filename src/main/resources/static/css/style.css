/* style.css */

/* Custom styles */
:root {
    /* 감성적인 미색/베이지 톤 조정 */
    --bg-color: #fcf8f2;
    --card-color: #fffaf3;
    --text-color: #333;
    --chart-bg: #fffcf8;
    --accent-green: #dcf1d3;
    --border-color: #e0d9c8;
    --nav-color: #e9e5db;
    
    /* 감정 색상 (부드러운 톤) */
    --mood-joy: #a5d6a7;    /* 기쁨 (light green) */
    --mood-sad: #90caf9;    /* 슬픔 (light blue) */
    --mood-anger: #ffb7b2;  /* 분노 (light red) */
    --mood-anxiety: #ffcc99;/* 불안 (light orange) */
    --mood-regret: #c9a0dc; /* 후회 (light purple) */
    /* ⭐️⭐️ 새로 추가된 감정 색상 (부드러운 톤 유지) ⭐️⭐️ */
    --mood-hope: #fff59d;     /* 희망 (light yellow/gold) - 밝고 긍정적인 느낌 */
    --mood-neutrality: #bdbdbd; /* 중립 (light gray) - 무색무취, 중립적인 느낌 */
    --mood-tiredness: #b0bec5; /* 피로 (pale slate blue) - 차분하고 가라앉은 느낌 */
    --mood-depression: #7986cb; /* 우울 (muted indigo) - 깊고 어두운 파란색 계열 */

    /* 아띠 캐릭터 색상 */
    --atti-body: #ffe28a;
    --atti-beak: #ff8c42;
    --atti-eye: #333;
}

/* ✅ 배경에 동적인 감성 패턴 & 애니메이션 효과 추가 */
body {
    background-color: var(--bg-color);
    font-family: 'Noto Sans KR', sans-serif;
    color: var(--text-color);
    padding-top: 70px;
    overflow-x: hidden;
    position: relative;
    
    /* 은은한 배경 패턴 */
    background-image: linear-gradient(to right, #f0e6d6 1px, transparent 1px), linear-gradient(to bottom, #f0e6d6 1px, transparent 1px);
    background-size: 25px 25px; /* 작은 격자 패턴 */
    background-repeat: repeat;
}

/* ⭐️ 감성적인 부유 애니메이션 (수정) */
@keyframes float {
    0% { transform: translate(0, 0) rotate(0deg); opacity: 0.7; }
    50% { transform: translate(10px, -15px) rotate(2deg); opacity: 0.9; } /* Y축 이동량 증가 */
    100% { transform: translate(0, 0) rotate(0deg); opacity: 0.7; }
}

/* ------------------- 1. 배경 부유 도닥이 (Fixed Position) - 기존 .floating-icon 대체 ------------------- */
.dodak-bg-element {
    position: fixed;
    pointer-events: none;
    z-index: 0;           /* 텍스트 아래로 배치 */
    opacity: 0.7;         /* 은은하게 */
    transition: opacity 0.3s;
    object-fit: contain;
    filter: drop-shadow(0 2px 5px rgba(0,0,0,0.1));
}

/* Fixed 도닥이 배치 및 크기 조정 */
.dodak-float-1 { top: 100px; left: 3%; width: 100px; animation: float 6s ease-in-out infinite alternate; }
.dodak-float-2 { top: 30%; right: 10%; width: 120px; animation: float 7s ease-in-out infinite alternate-reverse; animation-delay: 1.5s; }
.dodak-float-3 { bottom: 20%; left: 8%; width: 90px; animation: float 5s ease-in-out infinite alternate; animation-delay: 0.5s; }
.dodak-float-4 { top: 5%; right: 5%; width: 80px; opacity: 0.9; animation: float 8s ease-in-out infinite alternate; animation-delay: 2s; }
.dodak-float-5 { top: 60%; left: 1%; width: 110px; opacity: 0.7; animation: float 6.5s ease-in-out infinite alternate-reverse; animation-delay: 3s; }
.dodak-float-6 { bottom: 5%; right: 15%; width: 100px; opacity: 0.8; animation: float 5.5s ease-in-out infinite alternate; animation-delay: 1s; }


/* ------------------- 네비게이션바 및 카드 스타일 ------------------- */

.custom-navbar {
    background-color: var(--nav-color);
    border-bottom: 2px solid var(--border-color);
    backdrop-filter: blur(5px);
    -webkit-backdrop-filter: blur(5px);
}
.custom-nav-link {
    color: #666;
    font-weight: 500;
    border-radius: 10px 10px 0 0;
    margin-right: 5px;
    padding: 10px 20px;
    border: none;
    background-color: transparent;
    transition: all 0.2s;
}
.custom-nav-link.active {
    background-color: var(--bg-color); 
    color: var(--text-color);
    border-bottom: 3px solid #6c757d; 
    font-weight: 700;
}

/* ⭐️ 메뉴바 아이콘 스타일 */
.nav-tab-icon {
    width: 25px; /* 크기 조정 */
    height: 25px;
    margin-right: 5px;
    vertical-align: sub; /* 텍스트와 세로 정렬 맞춤 */
    object-fit: contain;
}

/* 앱 컨테이너 */
.app-container {
    padding: 10px 15px; 
    width: 100%; 
    max-width: 1500px;
    margin: 0 auto;
}

/* 앱 카드: position: relative 추가 및 overflow: hidden으로 내부 이미지 오버플로우 제어 */
.app-card {
    background-color: var(--card-color);
    border-radius: 15px;
    padding: 20px;
    margin-bottom: 20px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
    border: 1px solid var(--border-color);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    position: relative; /* ✅ 로컬 도닥이 배치를 위해 추가 */
    overflow: hidden; /* 로컬 도닥이가 카드 경계를 넘어가지 않도록 */
}
.app-card:hover {
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
    transform: translateY(-2px);
}

/* ------------------------------------- */
/* ✅ 수직 메뉴 스타일 (Hover Overlay 드롭다운 복원) */
/* ------------------------------------- */

.vertical-menu-container {
    /* ⭐️ Fixed: 콘텐츠 위에 겹쳐 나오도록 설정 */
    position: fixed; 
    top: 70px; /* fixed-top navbar (약 65px) 아래에 배치 */
    left: 10px; 
    
    width: 200px; 
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    border-radius: 8px;
    padding: 10px 0;
    
    background-color: var(--card-color);
    border: 1px solid var(--border-color);
    z-index: 1050; /* fixed navbar (1030) 위에 오도록 높게 설정 */
    cursor: pointer; 
    
    /* ⭐️ 초기 숨김 설정 및 애니메이션 준비 */
    opacity: 0;
    visibility: hidden; /* 영역을 완전히 숨김 */
    transform: translateY(-10px); /* 위로 살짝 이동 (아래로 내려오는 효과를 위해) */
    
    transition: opacity 0.3s ease, transform 0.3s ease, visibility 0.3s ease;
}

/* ⭐️ 마우스를 올리면 메뉴가 나타남 (Overlay 발생) */
.vertical-menu-container:hover {
    opacity: 1;
    visibility: visible;
    transform: translateY(0); /* 원래 위치로 이동 (아래로 슬라이드 인 효과) */
}


/* 메뉴 리스트 아이템 스타일 (유지) */
.vertical-menu-container .list-group-item {
    padding: 12px 15px;
    border: none;
    border-radius: 0;
    font-weight: 500;
    color: var(--text-color);
    background-color: var(--card-color);
    transition: background-color 0.2s;
}

.vertical-menu-container .list-group-item:hover {
    background-color: var(--nav-color);
}

.vertical-menu-container .list-group-item.active {
    background-color: var(--mood-joy); 
    color: white;
    font-weight: 700;
}


/* ------------------- 2. 탭 내부 도닥이 (Absolute Position) ------------------- */

.dodak-local-element {
    position: absolute;
    z-index: 1; /* 텍스트 아래, 카드 위에 배치 */
    opacity: 0.85;
    pointer-events: none;
    object-fit: contain;
    filter: drop-shadow(0 1px 3px rgba(0,0,0,0.1));
}

/* 홈 패널 내부 도닥이 */
.dodak-home-corner-1 { /* 음료먹는도닥.png (상단 우측) */
    top: -10px;
    right: -10px;
    width: 100px;
}
.dodak-home-corner-2 { /* 생각하는도닥이.png (설명 섹션 하단 중앙) */
    bottom: -20px;
    left: 50%;
    transform: translateX(-50%);
    width: 120px;
}

/* 통계 패널 내부 도닥이 */
.stats-header {
    font-weight: 700;
    font-size: 1.8rem;
    color: #555;
    margin-bottom: 25px;
    text-align: center;
    position: relative; /* ✅ 내부 도닥이 배치를 위해 추가 */
}
.dodak-stats-title-1 { /* 문서보는도닥이.png (제목 옆) */
    top: 0px;
    right: 280px; /* 제목 텍스트와 겹치지 않도록 조정 */
    width: 50px;
    opacity: 0.9;
}
.dodak-stats-calendar-2 { /* 앉아서독서하는도닥이.png (달력 카드 안) */
    top: 50px;
    right: 15px;
    width: 80px;
    opacity: 0.7;
    transform: rotate(10deg);
}
.dodak-stats-record-3 { /* 독서하는도닥.png (하단 카드 안) */
    bottom: 20px;
    left: 20px;
    width: 70px;
    opacity: 0.6;
}

/* 작성 패널 내부 도닥이 */
.today-stats-card {
    background: var(--card-color);
    border-radius: 20px;
    padding: 25px;
    margin-top: 20px;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
    border: 1px solid var(--border-color);
    position: relative; /* ✅ 내부 도닥이 배치를 위해 추가 */
    overflow: hidden;
}

/* ✅ 미리보기 이미지 스타일 (수정됨: 가로 폭 최대화) */
.dodak-preview-img {
    max-width: 90%; /* ✅ 컨테이너 폭의 90%로 설정 (최대한 크게) */
    width: 100%; /* ✅ 부모 요소 가로 폭을 기준으로 확장 */
    height: auto;
    display: block; 
    margin: 0 auto 20px auto; 
    border-radius: 10px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}
.preview-image-container {
    padding: 15px;
    background-color: #fff;
    border-radius: 10px;
    border: 1px solid var(--border-color);
}


/* 리스트 패널 내부 도닥이 */
.dodak-list-search-1 { /* 휴식하는도닥이.png (검색 영역 옆) */
    top: 15px;
    right: 15px;
    width: 70px;
    opacity: 0.8;
}

/* ------------------- 4. 홈 패널 타이틀 도닥이 아이콘 스타일 추가 ------------------- */
.section-title-dodak-icon {
    width: 300px; 
    height: 300px;
    margin-left: 100px;
    /* 텍스트의 중간에 위치하도록 조정 */
    vertical-align: middle; 
    object-fit: contain;
    filter: drop-shadow(0 1px 2px rgba(0,0,0,0.1));
}

/* ------------------- (나머지 기존 스타일 유지) ------------------- */

/* 캘린더 스타일 */
.calendar-grid {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    text-align: center;
    gap: 5px;
}
.calendar-header {
    font-weight: 700;
    color: #666;
    margin-bottom: 10px;
}
.calendar-day {
    padding: 8px 0;
    border-radius: 8px;
    cursor: pointer;
    transition: background-color 0.1s;
    font-weight: 500;
    font-size: 0.95em;
}
.indicator-bar {
    height: 10px;
    background-color: #eee;
    border-radius: 5px;
    overflow: hidden;
    position: relative;
}
.indicator-fill {
    height: 100%;
    border-radius: 5px;
    transition: width 0.5s ease;
}

/* 통계 섹션 */
.chart-grid {
    display: grid;
    grid-template-columns: 1fr 1fr; 
    gap: 20px; 
    margin-top: 20px;
}
@media (max-width: 992px) {
    .chart-grid {
        grid-template-columns: 1fr;
    }
}
.chart-area {
    background-color: var(--chart-bg);
    border-radius: 10px;
    padding: 15px;
    height: 250px; 
    display: flex;
    justify-content: center;
    align-items: center;
    border: 1px solid #e0d9c8;
    flex-direction: column;
}
.chart-area h6 { font-weight: 600; color: #666; margin-bottom: 10px; }

/* 차트 목업 스타일 */
.pie-chart-mock {
    width: 150px;
    height: 150px;
    border-radius: 50%;
    background: conic-gradient(
        var(--mood-sad) 0% 25%,
        var(--mood-joy) 25% 50%,
        var(--mood-anger) 50% 65%,
        var(--mood-regret) 65% 85%,
        var(--mood-anxiety) 85% 100%
    );
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}
.line-chart-mock {
    width: 100%;
    height: 100%;
    background-image: url('https://placehold.co/200x100/f0e6d6/888888?text=Line+Chart+Mockup');
    background-size: cover;
    background-position: center;
    border-radius: 8px;
}
.top-diary-btn {
    background-color: var(--accent-green);
    border: 1px solid #c8e6c9;
    border-radius: 8px;
    padding: 8px 15px;
    margin-bottom: 10px;
    width: 100%;
    text-align: left;
    font-weight: 500;
    color: #444;
    transition: background-color 0.2s, transform 0.2s;
}
.top-diary-btn:hover {
    background-color: #d0e8c8;
    transform: translateY(-2px);
}

/* 작성 탭 - 기분 선택 버튼 */
.mood-select button {
    border: 2px solid #ccc;
    transition: all 0.2s;
}
.mood-select button.selected {
    border-color: #6c757d;
    box-shadow: 0 0 5px rgba(108, 117, 125, 0.5);
    transform: scale(1.05);
}

/* 오늘의 마음통계 미리보기 섹션 */
.today-stats-card::before { /* 감성적인 배경 패턴 오버레이 */
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMCAzMCBMIDMwIDAgTCA2MCAzMCBMIDMwIDYwIFoiIHN0cm9rZT0icmdiYSgyMjksMjEzLDE5OCwwLjMpIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIC8+Cjwvc3ZnPg==');
    background-size: 30px 30px;
    opacity: 0.3;
    z-index: 0;
}
.today-stats-content {
    position: relative;
    z-index: 1;
}

.mood-analysis-item {
    display: flex;
    align-items: center;
    margin-bottom: 10px;
}
.mood-bar-container {
    flex-grow: 1;
    height: 25px;
    background-color: #eee;
    border-radius: 12px;
    margin: 0 10px;
    overflow: hidden;
    position: relative;
}
/* ✅ 애니메이션 적용된 기분 바 */
.mood-bar-fill {
    height: 100%;
    border-radius: 12px;
    background-color: var(--mood-anger);
    width: 0%; 
    transition: width 1.5s ease-out; /* 애니메이션 시간 */
    display: flex;
    align-items: center;
    padding-left: 10px;
    color: white;
    font-weight: 500;
    box-shadow: inset 0 -2px 5px rgba(0,0,0,0.1);
}

.atti-comment-section {
    background-color: #fffaf3;
    border-radius: 15px;
    padding: 20px;
    margin-top: 25px;
    border: 1px solid var(--border-color);
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}
.atti-title {
    display: flex;
    align-items: center;
    margin-bottom: 15px;
    color: #555;
    font-size: 1.2em;
}
.atti-title h5 {
    margin: 0;
    font-weight: 700;
}
/* ✅ 아띠 도닥이 아이콘 스타일 */
.atti-dodak-icon {
    width: 30px; /* 크기 조정 */
    height: 30px;
    margin-left: 10px;
    vertical-align: middle;
    object-fit: contain;
    filter: drop-shadow(0 1px 2px rgba(0,0,0,0.1));
}

/* 일기 리스트 스타일 */
.diary-item-card {
    background-color: #ffffff; 
    border-radius: 10px;
    padding: 15px;
    margin-bottom: 15px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
    border-left: 5px solid transparent; 
    transition: all 0.2s;
    cursor: pointer;
}
.diary-item-card:hover {
    transform: translateX(5px); 
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
}
.diary-item-card.mood-기쁨 { border-left-color: var(--mood-joy); }
.diary-item-card.mood-슬픔 { border-left-color: var(--mood-sad); }
.diary-item-card.mood-분노 { border-left-color: var(--mood-anger); }
.diary-item-card.mood-불안 { border-left-color: var(--mood-anxiety); }
.diary-item-card.mood-후회 { border-left-color: var(--mood-regret); }
.diary-item-card.mood-희망 { border-left-color: var(--mood-hope); }
.diary-item-card.mood-중립 { border-left-color: var(--mood-neutrality); }
.diary-item-card.mood-피로 { border-left-color: var(--mood-tiredness); }
.diary-item-card.mood-우울 { border-left-color: var(--mood-depression); }

.diary-mood-tag {
    font-size: 0.8em;
    font-weight: 700;
    padding: 3px 8px;
    border-radius: 5px;
    color: var(--text-color);
    align-self: flex-start; 
}
.diary-mood-tag.mood-기쁨 { background-color: var(--mood-joy); }
.diary-mood-tag.mood-슬픔 { background-color: var(--mood-sad); }
.diary-mood-tag.mood-분노 { background-color: var(--mood-anger); }
.diary-mood-tag.mood-불안 { background-color: var(--mood-anxiety); }
.diary-mood-tag.mood-후회 { background-color: var(--mood-regret); }
.diary-mood-tag.mood-희망 { background-color: var(--mood-hope); }
.diary-mood-tag.mood-중립 { background-color: var(--mood-neutrality); }
.diary-mood-tag.mood-피로 { background-color: var(--mood-tiredness); }
.diary-mood-tag.mood-우울 { background-color: var(--mood-depression); }

/* ⭐️ 홈 화면 관련 스타일 */
.home-intro-card {
    padding: 40px;
    margin-top: 30px;
}
.dodak-mascot-img {
    max-width: 250px;
    height: auto;
    border-radius: 15px;
    padding: 10px;
    background-color: var(--chart-bg);
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
}
.dodak-intro-text p {
    font-size: 1.05em;
    line-height: 1.8;
    color: #555;
    margin-bottom: 15px;
}
.project-description-section {
    padding-top: 30px;
    border-top: 1px dashed var(--border-color);
}
.feature-box {
    text-align: center;
    padding: 20px;
    border: 1px solid var(--border-color);
    border-radius: 10px;
    height: 100%;
    transition: background-color 0.2s;
}
.feature-box:hover {
    background-color: #f5f0e7;
}
.feature-box h5 {
    margin-top: 10px;
    color: #444;
}

/* ------------------- 모바일 화면 조정 (겹침 방지) ------------------- */
@media (max-width: 992px) {
    /* Fixed/Absolute 배경 도닥이 모바일에서 숨김 */
    .dodak-bg-element, .dodak-local-element {
        display: none !important; 
    }
    /* ⭐️ 모바일에서 수직 메뉴 숨김 */
    .vertical-menu-container {
        display: none !important;
    }
    .custom-nav-link {
        font-size: 0.85em; /* 메뉴 텍스트 크기 축소 */
    }
    .nav-tab-icon {
        display: none !important; /* 모바일에서 메뉴 아이콘 숨김 (텍스트 공간 확보) */
    }
    .dodak-mascot-img {
        margin-bottom: 20px;
    }
    .home-intro-card {
        padding: 20px;
    }
    
    /* ⭐️ 모바일에서 로그인/회원가입 버튼 크기 축소 */
    .login-btn, .signup-btn {
        font-size: 0.75rem;
        padding: 5px 8px;
    }
}


/* ⭐️ 로그인/회원가입 버튼 스타일 추가 */
.login-btn {
    border-color: #8d6e63 !important;
    color: #8d6e63 !important;
    font-weight: 500;
    transition: all 0.2s;
}
.login-btn:hover {
    background-color: #f0e6d6 !important;
    border-color: #8d6e63 !important;
    color: #8d6e63 !important;
}
.signup-btn {
    background-color: #6c757d !important;
    border-color: #6c757d !important;
    font-weight: 500;
    transition: all 0.2s;
}
.signup-btn:hover {
    background-color: #5a6268 !important;
    border-color: #5a6268 !important;
}

/* ⭐️ 회원가입/로그인 페이지 공통 스타일 (signup-wrapper, signup-card 재활용) */
.signup-wrapper {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    padding: 20px;
    background-color: var(--bg-color); /* 배경색 통일 */
}
.signup-card {
    max-width: 600px; /* 폼 항목이 많아져서 카드 크기 확장 */
    width: 100%;
    padding: 40px;
    text-align: center;
    background-color: var(--card-color);
    border-radius: 15px;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
    border: 1px solid var(--border-color);
}
.signup-card h2 {
    color: #6c757d;
    font-weight: 700;
    margin-bottom: 30px;
}
.signup-card .form-control {
    border-radius: 8px;
    padding: 12px;
    border-color: var(--border-color);
}
.form-label-custom {
    font-weight: 500;
    color: #555;
    text-align: left;
    display: block;
    margin-bottom: 5px;
    font-size: 0.95rem;
}
.form-group-section {
    border-top: 1px dashed var(--border-color);
    padding-top: 20px;
    margin-top: 30px;
}
.form-group-section:first-child {
    border-top: none;
    margin-top: 0;
}
.form-group-section h5 {
    text-align: left;
    font-weight: 700;
    color: #8d6e63;
    margin-bottom: 20px;
}
.validation-info {
    font-size: 0.8rem;
    color: #888;
    margin-top: 5px;
    text-align: left;
    display: block;
}
.required-star {
    color: #d0021b;
    margin-left: 5px;
}
.terms-scroll-area {
    height: 100px;
    overflow-y: scroll;
    border: 1px solid #ddd;
    padding: 10px;
    background-color: #f7f7f7;
    border-radius: 5px;
    font-size: 0.8rem;
    color: #555;
    margin-bottom: 10px;
}
/* 차트 탭 콘텐츠 영역 스타일 */
.atti-chart-tab-content {
    text-align: center;
    padding: 20px;
    background-color: var(--chart-bg); /* style.css의 변수 사용 */
    border: 1px solid var(--border-color); /* style.css의 변수 사용 */
    border-top: none; /* 탭 네비게이션과 겹치지 않도록 상단 경계선 제거 */
    border-radius: 0 0 10px 10px; /* 하단 모서리만 둥글게 */
}

/* 탭 버튼 커스터마이징 */
.nav-tabs {
    border-bottom: 1px solid var(--border-color); /* 탭 하단 경계선 색상 통일 */
}

.nav-tabs .nav-link {
    color: var(--text-color); /* 텍스트 색상 */
    background-color: var(--card-color); /* 비활성 탭 배경색 */
    border-color: var(--border-color);
    margin-bottom: -1px; /* 부트스트랩 기본값 유지 */
}

/* 활성 탭 버튼 스타일 */
.nav-tabs .nav-link.active {
    color: var(--text-color);
    background-color: var(--chart-bg); /* 활성 탭 배경색을 콘텐츠 배경색과 동일하게 */
    border-color: var(--border-color) var(--border-color) var(--chart-bg); /* 하단 선 색상을 콘텐츠 배경색과 동일하게 하여 연결된 느낌 부여 */
    font-weight: bold;
}

/* 1. 리스트 컨테이너 설정 (위치 기준점) */
.danger-alert-container {
    position: relative !important; 
    z-index: 1000; 
}

/* 2. 마우스 오버 시 리스트를 보이게 하는 기능 (유지) */
.danger-alert-container:hover #dangerAlertList {
    display: block !important;
    opacity: 1 !important;
    /* 호버 애니메이션 시에도 중앙 정렬 유지 */
    transform: translateY(0) translateX(-50%) !important; 
}

/* 3. 리스트의 위치 및 스타일 강제 적용 */
#dangerAlertList {
    position: absolute !important; 
    top: 100% !important; /* 아이콘 아래에 빈틈없이 붙임 */
    margin-top: 0 !important; 
    
    /* ★★★ 중앙 정렬 강제 적용: left 50%를 기준으로 본인 너비의 절반만큼 이동 */
    left: 50% !important; 
    transform: translateX(-50%) !important; /* !! 중요 !! 중앙 정렬을 최우선으로 적용 */
    right: auto !important; /* 기존 right 설정 무시 */
    
    /* 너비는 그대로 유지 */
    min-width: 200px; 
    z-index: 1001 !important;
    
    /* 웹페이지 스타일 통일 (유지) */
    background-color: var(--card-color) !important; 
    border: 1px solid var(--border-color) !important; 
    border-radius: 8px !important; 
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08) !important; 
    
    list-style: none; 
    padding: 0; 
    
    /* 애니메이션 설정 */
    display: none; 
    opacity: 0;
    /* 초기 위치: 중앙에서 살짝 위 */
    transform: translateY(-5px) translateX(-50%); 
    transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
    
    display: flex; 
    align-items: center;
    
    /* ★★★ 핵심 수정: 왼쪽 요소와 오른쪽 요소를 최대한 멀리 떨어뜨립니다. ★★★ */
    justify-content: space-between !important; 
    
    padding: 8px 15px; 
    font-size: 0.95em;
    color: var(--text-color);
    transition: background-color 0.2s;
}

/* 4. 리스트 항목 스타일 (유지) */
#dangerAlertList .dropdown-header {
    padding: 12px 15px 8px; 
    font-weight: 700; 
    font-size: 0.9em;
    border-bottom: 1px solid var(--border-color); 
    margin-bottom: 5px;
}

#dangerAlertList .dropdown-item {
    display: flex; 
    justify-content: space-between; 
    align-items: center;
    padding: 8px 15px; 
    font-size: 0.95em;
    color: var(--text-color);
    transition: background-color 0.2s; 
}

#dangerAlertList .dropdown-item:hover {
    background-color: var(--accent-green) !important; 
    color: var(--text-color); 
    cursor: pointer;
    font-weight: 500; 
}

#dangerAlertList .dropdown-divider {
    margin: 5px 0;
    border-top: 1px solid var(--border-color);
}


/* =======================================================
   DODAK 회원가입 페이지 스타일 (HTML에 맞춰 수정됨) (마이페이지) 
   ======================================================= */

.container {
    background-color: #fff;
    padding: 40px;
    border-radius: 12px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
    width: 100%;
    max-width: 1170px; /* 최대 너비 설정 */
    box-sizing: border-box;
}


/* 제목 스타일 */
.form-title {
    text-align: center;
    color: #4C4C4C;
    margin-bottom: 30px;
    font-size: 2em;
    font-weight: 600;
}

.title-icon {
    /* ⭐️⭐️ 수정: 1.5em -> 2em 으로 크기 키움 ⭐️⭐️ */
    width: 2em; 
    height: 2em; 
    margin-top: 10px; 
    vertical-align: middle;
    display: block;
    margin-left: auto;
    margin-right: auto;
}

.role-select-section {
    max-width: 400px; /* 너비를 제한하여 가운데 정렬 가능하게 함 */
    margin-left: auto;
    margin-right: auto;
    margin-bottom: 30px; /* 아래 섹션과의 간격 유지 */
}

.form-section:first-of-type { /* '역할 선택' 섹션이 첫 번째 form-section이라고 가정 */
    max-width: 400px; /* ⭐️⭐️ 적절한 너비 제한 ⭐️⭐️ */
    margin-left: auto;
    margin-right: auto;
}

/* --- 2단 그리드 시스템 --- */
.grid-2 {
    display: grid;
    grid-template-columns: 1fr 1fr; 
    gap: 30px; 
}

.grid-2 .full-width {
    grid-column: span 2;
}

/* Form Sections */
.form-section {
    background-color: #FDFDFD;
    padding: 25px;
    border-radius: 8px;
    margin-bottom: 25px;
    border: 1px solid #E0E0E0;
}

/* Section Title */
.section-title {
    color: #6A6A6A;
    font-size: 1.4em;
    margin-top: 0;
    margin-bottom: 20px;
    border-bottom: 2px dashed #E0E0E0;
    padding-bottom: 10px;
    display: flex;
    align-items: center;
}

.section-title i {
    color: #8B4513;
    margin-right: 10px;
    font-size: 1.2em;
}

/* Form Controls */
.form-control {
    width: calc(100% - 20px);
    padding: 12px 10px;
    border: 1px solid #DCC5AE;
    border-radius: 6px;
    font-size: 1em;
    box-sizing: border-box;
    background-color: #FDF9F5;
    color: #4C4C4C;
}

#passwordMatchText {
    /* 1. 줄바꿈 및 전체 너비 확보 */
    display: block; 
    
    /* 2. 텍스트를 왼쪽 끝(입력 필드 시작점)에 정렬 */
    text-align: left; 
    
    /* 3. 입력 필드와의 상단 간격 조정 */
    margin-top: 5px; 
    
    /* 4. 부모 요소나 다른 요소에서 상속된 불필요한 패딩/마진 제거 (안전하게 0으로 설정) */
    padding-left: 0; 
    margin-left: 0;
    
    /* 화면 설계서와 맞추기 위한 기타 스타일 */
    font-size: 0.85em;
    font-weight: normal; 
}

.form-control:focus {
    border-color: #8B4513;
    box-shadow: 0 0 0 0.2rem rgba(139, 69, 19, 0.25);
    outline: none;
}

/* Input Group (인풋 + 버튼) */
.input-group {
    display: flex;
    align-items: stretch;
}
.input-group .form-control {
    flex-grow: 1;
    width: auto;
    border-right: none;
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
}
.input-group .btn {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
    white-space: nowrap;
}


/* --- Buttons --- */
.btn {
    padding: 10px 18px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-size: 1em;
    transition: background-color 0.2s ease, transform 0.1s ease;
}

.btn-primary { background-color: #007bff; color: white; }
.btn-secondary { background-color: #DCC5AE; color: #4C4C4C; }
.btn-success { background-color: #7BCC7B; color: white; }
.btn-info { background-color: #D9D9D9; color: #4C4C4C; }


/* --- Footer Actions Grid (버튼 2단 레이아웃 - 가운데 정렬, 동일 크기) --- */
.footer-actions-grid {
    display: grid;
    /* 버튼 크기는 동일하게 유지 */
    grid-template-columns: 1fr 1fr; 
    gap: 15px;
    margin-top: 30px;
    
    /* ⭐️⭐️ 추가/수정: 가운데 정렬을 위해 margin: 0 auto; 적용 ⭐️⭐️ */
    max-width: 450px; 
    width: 100%;
    margin-left: auto; /* 왼쪽 마진 자동 */
    margin-right: auto; /* 오른쪽 마진 자동 */
    
    /* justify-content: start; 속성은 필요 없습니다. (삭제 또는 주석 처리) */
}

/* 2단 그리드에 들어가는 제출 버튼 스타일 */
.btn-submit-small {
    /* 기존 스타일 유지 (색상, 패딩 등) */
    padding: 15px;
    background-color: #8B4513; 
    color: white;
    font-size: 1.1em;
    font-weight: 600;
    border-radius: 8px;
    width: 100%;
    cursor: pointer;
    border: none;
    transition: background-color 0.2s;
}

/* 메인으로 돌아가기 버튼 스타일 */
.btn-back-main {
    /* 기존 스타일 유지 (색상, 패딩 등) */
    padding: 15px;
    background-color: #E0E0E0; 
    color: #4C4C4C;
    font-size: 1em;
    font-weight: 500;
    border-radius: 8px;
    width: 100%;
    text-align: center;
    display: flex;
    justify-content: center;
    align-items: center;
}

.btn-back-main i {
    margin-right: 8px;
}


/* --- 헤더 섹션 래퍼 (프로필 + 역할 선택) 2단 구성 및 중앙 정렬 --- */

.header-section-wrapper {
    /* 1. 래퍼 컨테이너 자체를 중앙 정렬 */
    display: flex; 
    flex-direction: row; 
    
    /* 2. 래퍼 컨테이너 자체를 페이지 중앙에 정렬 */
    max-width: 600px; /* 2단 구성을 위한 적절한 너비 제한 */
    margin-left: auto;
    margin-right: auto;
    
    /* 3. 내부 아이템(프로필, 역할선택)을 수직 중앙에 정렬 */
    align-items: center; 
    justify-content: center; /* 내부 아이템들을 가로 중앙으로 모으기 (가운데에 배치) */
    
    padding: 20px 0;
}

/* --- 내부 섹션 너비 및 배치 조정 --- */

.profile-section {
    flex: 0 0 150px; /* 프로필 섹션 너비 고정 (약 1/3) */
    display: flex;
    justify-content: center; /* 프로필 이미지 중앙 정렬 */
    margin-right: 20px; /* 역할 선택 섹션과의 간격 */
    /* 수직 중앙 정렬을 위해 margin-bottom 제거 */
    margin-bottom: 0; 
}

.form-section.role-select-section {
    flex: 1; /* 남은 공간을 모두 차지 (약 2/3) */
    width: auto; 
    max-width: none;
    /* ⭐️⭐️ 수정: role-select-section의 불필요한 마진 제거 ⭐️⭐️ */
    margin: 0; 
    padding: 20px; /* 패딩을 약간 줄여서 높이를 맞출 수도 있습니다. */
}

/* ⭐️⭐️ 역할 선택 섹션의 섹션 타이틀 내부 아이콘 색상 조정 (HTML 태그 기준으로 변경) ⭐️⭐️ */
.section-title i {
    color: #8B4513; /* 메인 테마 색상 */
    margin-right: 10px;
    font-size: 1.2em;
}

/* ⭐️⭐️ 역할 선택 Select Box 높이를 다른 인풋 필드와 통일 ⭐️⭐️ */
.form-section.role-select-section .form-control {
    padding: 12px 10px;
    height: 44px; /* 다른 인풋 필드와 동일한 높이로 설정 */
}



.profile-image-container {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    margin: 0 auto 15px;
    cursor: pointer;
    position: relative;
    border: 3px solid #DCC5AE; 
    overflow: hidden;
}

/* --- Checkbox Styles (안정화된 최종 버전) --- */
.checkbox-label {
    display: flex;
    align-items: center;
    cursor: pointer;
    position: relative;
    padding-left: 28px; /* 커스텀 체크박스 공간 확보 */
    user-select: none;
}

/* 실제 input은 숨깁니다. */
.checkbox-label input[type="checkbox"] {
    position: absolute;
    opacity: 0;
    cursor: pointer;
    height: 0;
    width: 0;
}

/* 1. 커스텀 체크박스 기본 모양 (label의 ::before 사용) */
.checkbox-label::before {
    content: '';
    position: absolute;
    left: 0;
    top: 50%;
    transform: translateY(-50%);
    width: 20px;
    height: 20px;
    border: 2px solid #DCC5AE;
    background-color: #FDF9F5;
    border-radius: 4px;
    transition: background-color 0.2s, border-color 0.2s;
}

/* ⭐️ input이 체크 상태일 때, label의 ::before 스타일 변경 ⭐️ */
.checkbox-label input[type="checkbox"]:checked::before {
    background-color: #8B4513; 
    border-color: #8B4513;
}

/* 3. 체크 마크 (label의 ::after 사용) */
.checkbox-label::after {
    font-family: "Font Awesome 5 Free"; 
    font-weight: 900;
    content: ""; /* 기본 상태에서는 비워둡니다. */
    position: absolute;
    left: 4px; 
    top: 50%;
    transform: translateY(-50%) scale(0); /* 기본 숨김 */
    color: white;
    font-size: 14px;
    transition: transform 0.2s ease-out;
}

/* ⭐️ input이 체크 상태일 때, label의 ::after (체크 마크) 표시 ⭐️ */
.checkbox-label input[type="checkbox"]:checked::after {
    content: "\f00c"; /* 체크 아이콘 유니코드 */
    transform: translateY(-50%) scale(1);
}

.agreement-checkboxes {
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    margin-top: 15px;
}



/* --- Modal Styles (모달 초기 상태 수정) --- */
.modal {
    /* ⭐️ 초기 display: none 설정은 JS에서 관리 */
    position: fixed; 
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: hidden; 
    background-color: rgba(0,0,0,0.5); 
    justify-content: center; 
    align-items: center; 
}



/* ⭐️⭐️ 백드롭 투명도 조정 (선택 사항: 모달 배경이 지나치게 어두울 경우) ⭐️⭐️ */
.modal-backdrop.show {
    opacity: 0.3 !important; /* 투명도를 낮춰 배경을 밝게 함 */
    z-index: 999 !important; /* 모달보다는 낮게 설정 */
}
.modal-content {
    background-color: #fff;
    padding: 30px;
    border-radius: 10px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.15);
    width: 90%;
    max-width: 800px;
    position: relative;
    box-sizing: border-box;
    max-height: 90vh; 
    overflow-y: auto;
}

/* 모달 제목 스타일 */
.modal-title {
    color: #4C4C4C;
    font-size: 1.6em;
    font-weight: 600;
    margin-bottom: 20px;
    border-bottom: 2px dashed #E0E0E0;
    padding-bottom: 10px;
    display: flex;
    align-items: center;
}

.modal-title i {
    color: #8B4513; /* 메인 폼의 섹션 아이콘 색상 통일 */
    margin-right: 10px;
    font-size: 1.2em;
}

/* 닫기 버튼 스타일 */
.close-button {
    color: #aaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
    position: absolute;
    top: 10px;
    right: 20px;
    cursor: pointer;
}
.close-button:hover,
.close-button:focus {
    color: #DCC5AE;
    text-decoration: none;
    cursor: pointer;
}

/* 모달 내부 소제목 스타일 */
.sub-section-title {
    color: #6A6A6A;
    font-size: 1.2em;
    margin-top: 20px;
    margin-bottom: 15px;
    padding-left: 10px;
    border-left: 5px solid #DCC5AE; /* 베이지 톤 강조선 */
}


/* 모달 내부 요소 스타일 */
.search-results {
    margin-top: 20px;
    border: 1px solid #DCC5AE;
    border-radius: 8px;
    max-height: 250px;
    overflow-y: auto;
    background-color: #FDF9F5;
    /* ⭐️⭐️ 추가/수정: 검색 결과를 초기에는 숨깁니다. ⭐️⭐️ */
    display: none; 
}

.hospital-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 15px 20px;
    border-bottom: 1px solid #E0E0E0;
    background-color: #fff; /* 아이템 배경을 흰색으로 지정 */
}

.hospital-item:last-child {
    border-bottom: none;
}

.hospital-item p {
    margin: 0;
    font-size: 0.95em;
    color: #4C4C4C;
}

.hospital-name {
    font-weight: 600;
    margin-bottom: 5px !important;
}
.hospital-address {
    color: #777;
    font-size: 0.85em;
}

.item-actions {
    display: flex;
    gap: 10px;
    flex-shrink: 0;
}



/* 새 병원 등록 폼 스타일 */
.new-hospital-form {
    background-color: #FDFDFD;
    border: 1px solid #E0E0E0;
    padding: 15px;
    border-radius: 8px;
    margin-top: 15px;
}

.new-hospital-form h5 {
    color: #8B4513;
    margin-top: 0;
    margin-bottom: 15px;
    padding-bottom: 5px;
    border-bottom: 1px dotted #DCC5AE;
}

/* --- 새 병원 등록 폼 액션 버튼 중앙 정렬 및 간격 조정 --- */
.new-hospital-form-actions {
    /* 1. 위 입력창과의 세로 간격 띄우기 */
    margin-top: 25px; 
    margin-bottom: 10px;

    /* 2. 버튼들을 가로 2단으로 중앙 정렬 */
    display: flex;
    justify-content: center; /* 버튼들을 가로 중앙에 배치 */
    gap: 15px; /* 버튼들 사이의 간격 */
    width: 100%;
}

/* 3. 버튼 크기 조정 (필요하다면) */
.new-hospital-form-actions .btn {
    flex: 1; /* 버튼들이 같은 비율로 공간을 차지하도록 설정 (동일한 크기) */
    max-width: 150px; /* 버튼의 최대 너비 제한 (너무 커지지 않도록) */
    padding: 10px 15px;
    font-size: 0.95em;
}

/* 팝업 닫기 버튼 배치 (하단 중앙) */
#closeHospitalModalBtn {
    display: block;
    width: 100%;
    margin-top: 25px;
    background-color: #D9D9D9; /* btn-info와 유사한 색상으로 통일 */
    color: #4C4C4C;
}


.agreement-content-scroll {
    border: 1px solid #E0E0E0;
    padding: 15px;
    margin: 10px 0 20px 0;
    background-color: #FDF9F5;
    border-radius: 6px;
    max-height: 150px; /* ⭐️⭐️ 원하는 최대 높이 설정 ⭐️⭐️ */
    overflow-y: auto; /* ⭐️⭐️ 높이 초과 시 세로 스크롤 생성 ⭐️⭐️ */
    font-size: 0.9em;
    color: #6A6A6A;
}

.agreement-content-scroll h4 {
    color: #8B4513;
    margin-top: 5px;
    margin-bottom: 5px;
}

/* --- 반응형 설정 --- */
@media (max-width: 768px) {
    .container { padding: 20px; }
    .grid-2 { grid-template-columns: 1fr; gap: 0; }
    .grid-2 .full-width { grid-column: span 1; }
    .header-section-wrapper { flex-direction: column; align-items: center; gap: 15px; }
    .role-select-section { max-width: 100%; }
    .agreement-checkboxes { grid-template-columns: 1fr; gap: 5px; }
    .footer-actions-grid {
        grid-template-columns: 1fr; /* 모바일에서는 1단으로 다시 쌓이도록 변경 */
        max-width: 100%; /* 모바일에서는 다시 너비 100% 사용 */
        gap: 10px;
    }
}

/* --- 반응형 처리 (모바일에서는 다시 1단으로 쌓기) --- */

@media (max-width: 650px) {
    .header-section-wrapper {
        flex-direction: column; /* 세로로 다시 쌓기 */
        max-width: 450px;
        align-items: center;
        justify-content: flex-start;
    }
    
    .profile-section {
        margin-right: 0;
        margin-bottom: 20px; /* 세로로 쌓였을 때 아래 섹션과의 간격 */
        flex: auto;
    }
    .form-section.role-select-section {
        width: 100%;
        margin: 0;
        max-width: 350px; /* 모바일에서 역할 선택 섹션의 너비를 약간 제한 */
    }
}

@media (max-width: 480px) {
    .form-title { 
        font-size: 1.6em; /* 작은 화면에서 글씨 크기 조정 */
    }
    .title-icon {
        width: 1.5em; /* 글씨 크기에 맞춰 자동으로 줄어듭니다. */
        height: 1.5em;
    }
    /* Input Group 깨짐 현상 수정 */
    .input-group { flex-direction: column; }
    .input-group .form-control {
        border-radius: 6px;
        border-bottom: 1px solid #DCC5AE;
        width: 100%;
        border-right: 1px solid #DCC5AE; 
    }
    .input-group .btn {
        margin-top: 8px;
        border-radius: 6px;
        width: 100%;
        padding: 8px 10px; 
    }

    .form-section { padding: 15px; }

    /* 병원 검색 결과 아이템 */
    .hospital-item { flex-direction: column; align-items: flex-start; gap: 8px; }
    .hospital-item .item-actions { width: 100%; justify-content: space-between; }
}