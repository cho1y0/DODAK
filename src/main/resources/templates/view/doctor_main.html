<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>나의 마음 일기장 (감성 UI/UX)</title>
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<link
	href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;700&display=swap"
	rel="stylesheet">
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
	rel="stylesheet">
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
<link rel="stylesheet" href="/view/css/style.css">
<link rel="stylesheet" href="/view/css/calendar.css">

<script
	src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
</head>
<body>

	<img src="/img/휴식하는도닥이.png" alt="휴식하는 도닥이"
		class="dodak-bg-element dodak-float-1">
	<img src="/img/앉아서독서하는도닥이.png" alt="독서하는 도닥이"
		class="dodak-bg-element dodak-float-2">
	<img src="/img/문서보는도닥이.png" alt="문서보는 도닥이"
		class="dodak-bg-element dodak-float-3">
	<img src="/img/활짝웃는도닥이.png" alt="웃는 도닥이"
		class="dodak-bg-element dodak-float-4">
	<img src="/img/구름도닥이.png" alt="구름 위 도닥이"
		class="dodak-bg-element dodak-float-5">
	<img src="/img/생각하는도닥이.png" alt="생각하는 도닥이"
		class="dodak-bg-element dodak-float-6">

	<nav
		class="navbar navbar-expand-lg fixed-top custom-navbar shadow-sm show-navbar">
		<div class="container-fluid app-container" id="menucon"
			style="display: none;">

			<button class="navbar-toggler" type="button"
				data-bs-toggle="collapse" data-bs-target="#navbarNav"
				aria-controls="navbarNav" aria-expanded="false"
				aria-label="Toggle navigation" style="border: none;">
				<i class="bi bi-list" style="font-size: 1.8rem; color: #6c757d;"></i>
			</button>

			<div class="collapse navbar-collapse" id="navbarNav">
				<ul class="nav nav-pills me-auto" id="mainTab" role="tablist">
					<li class="nav-item" role="presentation">
						<button class="nav-link custom-nav-link active" id="home-tab"
							data-bs-toggle="tab" data-bs-target="#home-panel" type="button"
							role="tab" aria-controls="home-panel" aria-selected="true">
							<img src="/img/dodak.png" alt="홈" class="nav-tab-icon"> 홈
						</button>
					</li>
					<li class="nav-item" role="presentation">
						<button class="nav-link custom-nav-link" id="stats-tab"
							data-bs-toggle="tab" data-bs-target="#stats-panel" type="button"
							role="tab" aria-controls="stats-panel" aria-selected="false">
							<img src="/img/문서보는도닥이.png" alt="통계" class="nav-tab-icon"
								style="width: 50px;"> 이달의 마음통계
						</button>
					</li>
					<li class="nav-item" role="presentation">
						<button class="nav-link custom-nav-link" id="list-tab"
							data-bs-toggle="tab" data-bs-target="#list-panel" type="button"
							role="tab" aria-controls="list-panel" aria-selected="false">
							<img src="/img/앉아서독서하는도닥이.png" alt="리스트" class="nav-tab-icon"
								style="width: 50px;"> 환자 일기 리스트
						</button>
					</li>

					<li class="nav-item" role="presentation">
						<button class="nav-link custom-nav-link" id="mypage-tab"
							data-bs-toggle="tab" data-bs-target="#mypage-panel" type="button"
							role="tab" aria-controls="mypage-panel" aria-selected="false">
							<img src="/img/활짝웃는도닥이.png" alt="도닥이 마이페이지 아이콘"
								style="height: 24px; width: auto; margin-right: 5px; vertical-align: middle;">
							마이페이지
						</button>
					</li>
				</ul>
				<li class="nav-item ms-auto danger-alert-container"><a
					class="nav-link text-danger" href="#" id="dangerAlertIcon"> <i
						class="bi bi-exclamation-triangle-fill" style="font-size: 1.2em"
						title="주의: 심각한 부정적 기록 알림"></i>
				</a>

					<ul class="danger-list-content" id="dangerAlertList">
						<h6 class="dropdown-header text-danger">🚨 심층 면담 필요 환자</h6>
						<li><a class="dropdown-item" href="#"> <span>김*독
									(우울 95%)</span> <span class="fire-icon-right">🔥</span>
						</a></li>
						<li><a class="dropdown-item" href="#"> <span>이*자
									(우울 88%)</span> <span class="fire-icon-right">🔥</span>
						</a></li>
						<li><a class="dropdown-item" href="#"> <span>박*수
									(불안 92%)</span> <span class="fire-icon-right">🔥</span>
						</a></li>
						<li><hr class="dropdown-divider"></li>
						<li><a class="dropdown-item text-muted" href="#">전체 위험군
								보기...</a></li>
					</ul></li>
				<div class="d-flex ms-auto">
					<a href="/logout"
						class="btn btn-sm btn-outline-secondary me-2 login-btn"> <i
						class="bi bi-box-arrow-in-right me-1"></i> 로그아웃
					</a>
				</div>


			</div>

		</div>
	</nav>

	<div class="app-container">
		<div class="tab-content" id="mainTabContent">

			<div class="tab-pane fade show active" id="home-panel"
				role="tabpanel" aria-labelledby="home-tab">
				<div class="app-card home-intro-card position-relative">
					<h2 class="text-center fw-bold mb-5" style="color: #6c757d;">
						DODAK: 일상을 '도닥'여주는 마음 기록 웹</h2>

					<img src="/img/음료먹는도닥.png" alt="음료 마시는 도닥이"
						class="dodak-local-element dodak-home-corner-1">

					<ul
						class="nav nav-tabs nav-tabs-custom justify-content-center mb-4"
						id="homeTabs" role="tablist">

						<li class="nav-item" role="presentation">
							<button class="nav-link active" id="mascot-tab"
								data-bs-toggle="tab" data-bs-target="#mascot-pane" type="button"
								role="tab" aria-controls="mascot-pane" aria-selected="true">
								<i class="bi bi-emoji-heart-eyes me-2"></i> 마스코트 소개
							</button>
						</li>

						<li class="nav-item" role="presentation">
							<button class="nav-link" id="project-tab" data-bs-toggle="tab"
								data-bs-target="#project-pane" type="button" role="tab"
								aria-controls="project-pane" aria-selected="false">
								<i class="bi bi-journal-text me-2"></i> 프로젝트 설명
							</button>
						</li>
					</ul>

					<div class="tab-content" id="homeTabContent">



						<div class="tab-pane fade show active" id="mascot-pane"
							role="tabpanel" aria-labelledby="mascot-tab">
							<img src="/img/구름도닥이.png" alt="떠있는 도닥이"
								class="dodak-local-element"
								style="position: absolute; top: 10px; left: 50px; width: 150px; opacity: 0.85; z-index: 10;">

							<div class="row justify-content-center align-items-center g-4">

								<div class="col-12 col-md-4 d-flex justify-content-center">
									<div class="dodak-main-image-card">
										<img src="/img/활짝웃는도닥이.png" alt="도닥이 마스코트"
											class="img-fluid rounded-3 shadow-sm p-2"
											style="max-height: 250px;">
									</div>
								</div>

								<div
									class="col-12 col-md-8 dodak-intro-text text-center text-md-start">
									<h3 class="fw-bold mb-3" style="color: var(--text-color);">
										<span style="color: var(--accent-color);">✨ 따뜻한 동행:</span>
										마스코트 도닥이를 소개합니다!
									</h3>

									<p class="lead" style="color: #6a6a6a; margin-bottom: 1rem;">
										DODAK의 다정한 마스코트 **도닥이**가 당신의 **이야기**를 기다립니다.</p>

									<p style="color: var(--text-color);">도닥이는 항상 작은 스카프를 두르고
										다니며, 사용자님의 **'마음 일기'**를 가장 소중히 여기는 다람쥐입니다. 단순한 기록을 넘어, **감정의
										변화**와 **숨겨진 마음의 소리**를 귀 기울여 듣는 것이 도닥이의 중요한 역할입니다.</p>
									<p style="color: var(--text-color);">매일의 기록을 통해 당신의 감정을
										분석하고, 필요한 순간에 **따뜻한 배경 음악**이나 **맞춤형 힐링 테마**를 추천하여 지친 마음을 어루만져
										줍니다.</p>

									<p class="fw-bold fs-5 mt-4 p-3 rounded-3"
										style="color: #ffffff; background-color: var(--highlight-color);">
										"사용자님의 이야기에 귀 기울여<br class="d-md-none"> 지친 하루를 **따뜻하게
										도닥여** 드릴게요."
									</p>
								</div>
							</div>
						</div>


						<div class="tab-pane fade" id="project-pane" role="tabpanel"
							aria-labelledby="project-tab">
							<div class="project-description-section position-relative pt-3">
								<h3 class="fw-bold mb-4 text-center" style="color: #444;">[
									프로젝트 DODAK 설명 ]</h3>

								<img src="/img/생각하는도닥이.png" alt="생각하는 도닥이"
									class="dodak-local-element"
									style="position: absolute; top: -170px; left: 50px; width: 100px; opacity: 0.8; z-index: 10;">

								<div class="row g-4">
									<div class="col-md-4">
										<div class="feature-box">
											<i class="bi bi-pencil-square display-5 mb-2"
												style="color: var(--mood-joy);"></i>
											<h5 class="fw-bold">1. 감정 맞춤형 기록 환경</h5>
											<p>작성자의 일기 감정을 분석하여 실시간으로 맞춤 힐링(음악,영상등..)컨텐츠를 제공하여, 일기
												작성에 대한 몰입감을 높여줍니다.</p>
										</div>
									</div>

									<div class="col-md-4">
										<div class="feature-box">
											<i class="bi bi-file-earmark-bar-graph display-5 mb-2"
												style="color: var(--bs-info);"></i>
											<h5 class="fw-bold">2. 상담을 미리 돕는 AI 기록 분석</h5>
											<p>일기 내용을 AI가 꼼꼼히 읽고 중요한 감정 키워드를 미리 정리해 둡니다. 진단 리포트는 월별
												보고서의 기반이 되어, 당신의 마음 상태를 한눈에 파악하고 더 깊이 있는 상담을 준비하는 데 큰 도움이
												됩니다.</p>
										</div>
									</div>

									<div class="col-md-4">
										<div class="feature-box">
											<i class="bi bi-bar-chart-line display-5 mb-2"
												style="color: var(--mood-regret);"></i>
											<h5 class="fw-bold">3. 월별 감정 보고서 제공</h5>
											<p>정신과 전문의에게 환자의 월별 감정 변화와 통계를 시각화하여 제공함으로써, 환자의 상태를 빠르게
												파악하고 상담을 진행할 수 있습니다</p>
										</div>
									</div>
								</div>
							</div>
						</div>

					</div>
				</div>
			</div>

			<div class="tab-pane fade " id="stats-panel" role="tabpanel"
				aria-labelledby="stats-tab">
				<div class="stats-header position-relative">
					5월의 마음 속 이야기 <img src="/img/문서보는도닥이.png" alt="통계 도닥이"
						class="dodak-local-element dodak-stats-title-1">
				</div>

				<div class="row gx-4">
					<div class="col-12 col-lg-4 d-flex">
						<div class="app-card calendar-card flex-grow-1 position-relative">
							<div
								class="d-flex justify-content-between align-items-center mb-4">
								<select class="form-select form-select-sm fw-bold me-auto"
									style="width: 120px; color: #6c757d;" id="yearSelect">
									<option value="2024">2024년</option>
									<option value="2025" selected>2025년</option>
									<option value="2026">2026년</option>
								</select>

								<div class="d-flex align-items-center">
									<h5 class="fw-bold m-0 me-3"
										style="color: #333; font-size: 1.15rem;"
										id="currentMonthDisplay" data-initial-month="5"></h5>

									<div class="btn-group" role="group"
										aria-label="Month Navigation">
										<button type="button"
											class="btn btn-sm btn-outline-secondary month-prev-btn"
											style="border-right: none;">
											<i class="bi bi-chevron-left"></i>
										</button>
										<button type="button"
											class="btn btn-sm btn-outline-secondary month-next-btn">
											<i class="bi bi-chevron-right"></i>
										</button>
									</div>
								</div>
							</div>

							<img src="/img/앉아서독서하는도닥이.png" alt="달력 도닥이"
								class="dodak-local-element dodak-stats-calendar-2"
								style="top: 620px; width: 200px; right: 23%;">

							<div class="calendar-grid mb-4">
								<div class="calendar-header">월</div>
								<div class="calendar-header">화</div>
								<div class="calendar-header">수</div>
								<div class="calendar-header">목</div>
								<div class="calendar-header">금</div>
								<div class="calendar-header">토</div>
								<div class="calendar-header">일</div>
								<div></div>
								<div></div>
								<div></div>
								<div></div>
								<div></div>
								<div></div>
								<div class="calendar-day today"
									style="background-color: var(--mood-anger); color: white;">1</div>
								<div class="calendar-day date">2</div>
								<div class="calendar-day"
									style="background-color: var(--mood-anxiety);">3</div>
								<div class="calendar-day date">4</div>
								<div class="calendar-day"
									style="background-color: var(--mood-anxiety);">5</div>
								<div class="calendar-day"
									style="background-color: var(--mood-regret);">6</div>
								<div class="calendar-day"
									style="background-color: var(--mood-regret);">7</div>
								<div class="calendar-day date">8</div>
								<div class="calendar-day"
									style="background-color: var(--mood-joy);">9</div>
								<div class="calendar-day"
									style="background-color: var(--mood-joy);">10</div>
								<div class="calendar-day"
									style="background-color: var(--mood-joy);">11</div>
								<div class="calendar-day"
									style="background-color: var(--mood-regret);">12</div>
								<div class="calendar-day"
									style="background-color: var(--mood-regret);">13</div>
								<div class="calendar-day date">14</div>
								<div class="calendar-day date">15</div>
								<div class="calendar-day"
									style="background-color: var(--mood-joy);">16</div>
								<div class="calendar-day"
									style="background-color: var(--mood-joy);">17</div>
								<div class="calendar-day date">18</div>
								<div class="calendar-day date">19</div>
								<div class="calendar-day date">20</div>
								<div class="calendar-day date">21</div>
								<div class="calendar-day date">22</div>
								<div class="calendar-day date">23</div>
								<div class="calendar-day date">24</div>
								<div class="calendar-day date">25</div>
								<div class="calendar-day date">26</div>
								<div class="calendar-day date">27</div>
								<div class="calendar-day date">28</div>
								<div class="calendar-day date">29</div>
								<div class="calendar-day date">30</div>
								<div class="calendar-day date">31</div>
							</div>
						</div>
					</div>

					<div class="col-12 col-lg-8">
						<div class="app-card">
							<div class="d-flex align-items-center mt-2 mb-3">
								<img src="/img/dodak.png" alt="도닥이 아이콘"
									style="width: 2em; height: 2em; margin-right: 10px;">
								<div class="chat-bubble flex-grow-1">이번 달의 감정 패턴과 비율을
									분석해봤어.</div>
							</div>
							<div class="chart-grid">
								<div class="p-3">
									<h5 class="fw-bold mb-3" style="color: #444;">이 달의 마음 상태</h5>
									<p
										class="mb-1 fw-semibold d-flex justify-content-between align-items-center">
										종합 우울지수 <span style="font-size: 0.9em; color: #d0021b;">높음
											😢</span>
									</p>
									<div class="indicator-bar mb-3">
										<div class="indicator-fill"
											style="width: 70%; background-color: var(--mood-sad);"></div>
										<div class="indicator-level">2단계</div>
									</div>
									<p
										class="mb-1 fw-semibold d-flex justify-content-between align-items-center">
										종합 행복지수 <span style="font-size: 0.9em; color: #69a74e;">보통
											😊</span>
									</p>
									<div class="indicator-bar mb-3">
										<div class="indicator-fill"
											style="width: 30%; background-color: var(--mood-joy);"></div>
										<div class="indicator-level">2단계</div>
									</div>
									<p class="text-center mt-4"
										style="font-size: 0.9em; color: #888;">집중 분석 필요 🔍</p>
								</div>
								<div class="p-3">
									<h6 class="text-center">가장 부정적이었던 날 🌧️</h6>
									<div class="d-flex align-items-center mb-3">
										<span style="font-size: 1.5em;">😥</span>
										<div class="chat-bubble flex-grow-1 m-0">가장 우울했던 날 TOP 3
											일기</div>
									</div>
									<button class="top-diary-btn">TOP 1 일기: 우울한 하루 (5/10)</button>
									<button class="top-diary-btn">TOP 2 일기: 친구들과의 여행
										(5/17)</button>
									<button class="top-diary-btn">TOP 3 일기: 부장님의 호통 (5/9)</button>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="atti-comment-section">
					<div class="atti-title">
						<h5>도닥이가 하고 싶은 말이 있대요!</h5>
						<img src="/img/dodak.png" alt="도닥이 아이콘" class="atti-dodak-icon">
					</div>

					<ul class="nav nav-tabs nav-justified" id="chartTabs"
						role="tablist">
						<li class="nav-item" role="presentation">
							<button class="nav-link active" id="pie-tab" data-bs-toggle="tab"
								data-bs-target="#pie-chart-pane" type="button" role="tab"
								aria-controls="pie-chart-pane" aria-selected="true">종합
								마음 추이 차트</button>
						</li>
						<li class="nav-item" role="presentation">
							<button class="nav-link" id="line-tab" data-bs-toggle="tab"
								data-bs-target="#line-chart-pane" type="button" role="tab"
								aria-controls="line-chart-pane" aria-selected="false">행복/우울
								지수변화 차트</button>
						</li>
					</ul>

					<div class="tab-content atti-chart-tab-content"
						id="chartTabsContent">

						<div class="tab-pane fade show active" id="pie-chart-pane"
							role="tabpanel" aria-labelledby="pie-tab" tabindex="0"
							align="center">
							<canvas id="pie-chart" width="342px" height="342px"></canvas>
						</div>

						<div class="tab-pane fade" id="line-chart-pane" role="tabpanel"
							aria-labelledby="line-tab" tabindex="0" align="center">
							<canvas id="line-chart" width="342px" height="342px"></canvas>
						</div>

					</div>
				</div>
			</div>

			<div class="tab-pane fade" id="write-panel" role="tabpanel"
				aria-labelledby="write-tab">
				<div class="row">
					<div class="col-12">
						<div class="app-card">
							<h4 class="fw-bold mb-4" style="color: #555;">오늘의 감성을 기록해요
								✍️</h4>
							<p class="text-muted">날짜: 2025년 10월 24일 (금)</p>
							<div class="mb-4">
								<label for="diaryMood" class="form-label fw-semibold">오늘의
									기분 선택</label>
								<div class="mood-select" id="diaryMood">
									<button class="btn btn-outline-danger me-2" data-mood="분노"
										value="분노">분노 🔥</button>
									<button class="btn btn-outline-warning me-2" data-mood="불안"
										value="불안">불안 😟</button>
									<button class="btn btn-outline-primary me-2" data-mood="슬픔"
										value="슬픔">슬픔 😢</button>
									<button class="btn btn-outline-success me-2" data-mood="기쁨"
										value="기쁨">기쁨 😊</button>
									<button class="btn btn-outline-info me-2" data-mood="후회"
										value="후회">후회 😔</button>
								</div>
							</div>
							<div class="mb-4">
								<label for="diaryTitle" class="form-label fw-semibold">제목</label>
								<input type="text" class="form-control" id="diaryTitle"
									placeholder="오늘의 마음을 담아 제목을 입력하세요">
							</div>
							<div class="mb-4">
								<label for="diaryContent" class="form-label fw-semibold">오늘의
									이야기</label>
								<textarea class="form-control" id="diaryContent" rows="10"
									placeholder="오늘 있었던 일이나 느꼈던 감정을 자유롭게 기록해보세요."></textarea>
							</div>
							<div class="d-flex justify-content-between gap-2 mt-4">
								<button class="btn btn-lg btn-dark w-50" id="saveDiaryBtn">일기
									저장하기</button>
								<button class="btn btn-lg btn-secondary w-50" type="button"
									data-bs-toggle="collapse"
									data-bs-target="#StatsCollapseYoutube" aria-expanded="false"
									aria-controls="StatsCollapseYoutube">기분에 따른 추천 영상 목록보기</button>
							</div>
						</div>
					</div>
				</div>
				<div class="collapse" id="StatsCollapseYoutube">
					<div class="row">
						<div class="col-12">
							<div class="today-stats-card position-relative">
								<div class="atti-character"></div>
								<div class="today-stats-content">
									<h5 class="text-center fw-bold mb-4" style="color: #c94f79;">오늘의
										기분 선택에 맞는 영상 목록</h5>
									<div class="atti-comment-section">
										<div class="atti-title">
											<h5>도닥이가 추천해요!</h5>
											<img src="/img/dodak.png" alt="도닥이 아이콘"
												class="atti-dodak-icon">
										</div>
										<div class="diary-list" id="youtubeResult"></div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="tab-pane fade" id="list-panel" role="tabpanel"
				aria-labelledby="list-tab">
				<div class="row">
					<div class="col-12">
						<div class="app-card position-relative">
							<h4 class="fw-bold mb-4" style="color: #555;">기록된 나의 일기 모음
								📚</h4>
							<p class="text-muted mb-4">총 15개의 일기가 기록되어 있습니다.</p>

							<img src="/img/휴식하는도닥이.png" alt="휴식하는 도닥이"
								class="dodak-local-element dodak-list-search-1">

							<div class="d-flex align-items-center mb-4 gap-2">
								<div class="controls">
									<div class="col">
										<label for="yearSearch">연도 검색 / 선택</label>
										<div class="search">
											<input id="yearSearch" type="search"
												placeholder="예: 1990 또는 20" aria-label="연도 검색" />
										</div>
										<div id="yearList" class="list" role="listbox"
											aria-label="연도 목록" tabindex="0"></div>
									</div>

									<div class="col">
										<label for="monthSearch">월 검색 / 선택</label> <input
											id="monthSearch" type="search" placeholder="예: 3 또는 03"
											aria-label="월 검색" />
										<div id="monthList" class="list" role="listbox"
											aria-label="월 목록" tabindex="0"></div>
									</div>

									<div class="col">
										<label for="daySearch">일 검색 / 선택</label> <input id="daySearch"
											type="search" placeholder="예: 15 또는 1" aria-label="일 검색" />
										<div id="dayList" class="list" role="listbox" tabindex="0"
											aria-label="일 목록"></div>
									</div>
								</div>

								<div class="output" aria-live="polite">
									<strong id="selected">없음</strong>
								</div>
								<div class="input-group ms-auto"
									style="max-width: 250px; height: 60px; padding-top: 20px;">
									<input type="text" class="form-control form-control-sm"
										placeholder="제목/내용 검색">
									<button class="btn btn-outline-secondary btn-sm" type="button">
										<i class="bi bi-search"></i>
									</button>
								</div>
							</div>
							<input type="hidden" id="waitChk" value="0">
							<div class="diary-list">
								<div class="diary-item-card mood-기쁨">
									<div class="d-flex justify-content-between align-items-start">
										<h5 class="fw-bold mb-1">팀 프로젝트 마무리!🎉</h5>
										<span class="diary-mood-tag mood-기쁨">기쁨 😊</span>
									</div>
									<p class="text-muted mb-2" style="font-size: 0.9em;">2025.10.20
										| 날씨: 맑음</p>
									<p class="mb-0 text-truncate">모두가 열심히 해줘서 프로젝트를 성공적으로 끝마칠 수
										있었다. 뿌듯한 하루!</p>
								</div>

								<div class="diary-item-card mood-불안">
									<div class="d-flex justify-content-between align-items-start">
										<h5 class="fw-bold mb-1">발표 D-1, 너무 떨려</h5>
										<span class="diary-mood-tag mood-불안">불안 😟</span>
									</div>
									<p class="text-muted mb-2" style="font-size: 0.9em;">2025.10.22
										| 날씨: 흐림</p>
									<p class="mb-0 text-truncate">내일 발표인데 준비가 덜 된 것 같아서 밤새 연습해야
										할 것 같다. 제발 실수하지 않기를...</p>
								</div>
								<div class="diary-item-card mood-불안">
									<div class="d-flex justify-content-between align-items-start">
										<h5 class="fw-bold mb-1">발표 D-2, 너무 떨려</h5>
										<span class="diary-mood-tag mood-불안">불안 😟</span>
									</div>
									<p class="text-muted mb-2" style="font-size: 0.9em;">2025.10.22
										| 날씨: 흐림</p>
									<p class="mb-0 text-truncate">내일 발표인데 준비가 덜 된 것 같아서 밤새 연습해야
										할 것 같다. 제발 실수하지 않기를...</p>
								</div>
								<div class="diary-item-card mood-불안">
									<div class="d-flex justify-content-between align-items-start">
										<h5 class="fw-bold mb-1">발표 D-3, 너무 떨려</h5>
										<span class="diary-mood-tag mood-불안">불안 😟</span>
									</div>
									<p class="text-muted mb-2" style="font-size: 0.9em;">2025.10.22
										| 날씨: 흐림</p>
									<p class="mb-0 text-truncate">내일 발표인데 준비가 덜 된 것 같아서 밤새 연습해야
										할 것 같다. 제발 실수하지 않기를...</p>
								</div>

								<div class="diary-item-card mood-분노">
									<div class="d-flex justify-content-between align-items-start">
										<h5 class="fw-bold mb-1">상사와의 의견 충돌</h5>
										<span class="diary-mood-tag mood-분노">분노 🔥</span>
									</div>
									<p class="text-muted mb-2" style="font-size: 0.9em;">2025.10.24
										| 날씨: 비</p>
									<p class="mb-0 text-truncate">내가 옳다고 생각하는 부분이 있었는데, 결국
										관철시키지 못했다. 너무 화가 나는 하루다.</p>
								</div>

								<nav aria-label="Diary Pagination" class="mt-4">
									<ul class="pagination justify-content-center">
										<li class="page-item disabled"><a class="page-link"
											href="#">이전</a></li>
										<li class="page-item active"><a class="page-link"
											href="#">1</a></li>
										<li class="page-item"><a class="page-link" href="#">2</a></li>
										<li class="page-item"><a class="page-link" href="#">3</a></li>
										<li class="page-item"><a class="page-link" href="#">다음</a></li>
									</ul>
								</nav>
							</div>
						</div>
					</div>
				</div>
			</div>


		</div>
	</div>

	<!-- mypage-panel (이 부분만 사용자가 요청한 내용입니다) -->
	<div class="tab-pane fade" id="mypage-panel">

		<div class="container">
			<h2 class="form-title">
				DODAK 마이페이지<br> <img src="/img/dodak.png" alt="캐릭터 아이콘"
					class="title-icon">
			</h2>
			<form id="registerForm">
				<input type="hidden" id="agreements" name="agreementYn" value="0">
				<div class="header-section-wrapper">
					<div class="profile-section">
						<div class="profile-image-container" id="profileImageContainer">
							<img src="https://placehold.co/120/DCC5AE/FFFFFF?text=PROFILE"
								alt="프로필 이미지" style="width: 100%; height: 100%"
								class="profile-image"> <input type="file"
								id="profileImageUpload" name="profileImage" accept="image/*"
								style="display: none;">
							<div class="overlay">클릭하여 이미지 변경</div>
						</div>
					</div>

					<div class="form-section role-select-section">
						<div class="role-content-flex-wrapper">
							<div class="form-group">
								<label for="roleSelect" class="required">가입 역할</label> <select
									id="roleSelect" name="role" class="form-control" disabled>
									<option value="USER">일반 회원 (USER)</option>
									<option value="DOCTOR" selected>의사 회원 (DOCTOR)</option>
								</select>
							</div>
						</div>
					</div>
				</div>

				<div class="form-section">
					<h3 class="section-title">
						<i class="fas fa-user"></i> 기본 정보
					</h3>
					<div class="grid-2">
						<div class="form-group">
							<label for="userId" class="required">아이디</label>
							<div class="input-group">
								<input type="text" id="inputId" name="userId"
									class="form-control" placeholder="ID 입력" maxlength="20"
									autocomplete="off" readonly value="사용자의_현재_ID">
								<button type="button" class="btn btn-secondary"
									id="buttonIDCheck" onclick="checkId()" disabled>변경 불가</button>
							</div>
							<span class="help-text">아이디는 가입 후 수정할 수 없습니다.</span> <small
								id="idMessage" class="form-text text-muted"></small>
						</div>
						<div class="form-group">
							<label for="name" class="required">이름 (한글)</label> <input
								type="text" id="inputName" name="name" class="form-control"
								placeholder="실명 입력 (한글)" maxlength="10" required="required">
						</div>

						<div class="form-group">
							<label for="password" class="required">비밀번호</label> <input
								type="password" name="password" class="form-control"
								maxlength="20" id="password" placeholder="비밀번호 입력" required>
							<small class="help-text">8~20자, 영문+숫자+특수문자 조합.</small>
						</div>
						<div class="form-group">
							<label for="passwordConfirm" class="required">비밀번호 확인</label> <input
								type="password" name="passwordConfirm" class="form-control"
								id="passwordConfirm" placeholder="비밀번호 재입력" maxlength="20"
								required="required"> <small class="help-text"
								id="passwordMatchText"></small>
						</div>
					</div>
				</div>

				<div class="form-section">
					<h3 class="section-title">
						<i class="fas fa-mobile-alt"></i> 연락 정보
					</h3>
					<div class="grid-2">
						<div class="form-group">
							<label for="phone" class="required">휴대 전화</label> <input
								type="tel" class="form-control" id="inputPhone" name="phone"
								placeholder="010-XXXX-XXXX" required="required">
						</div>
						<div class="form-group">
							<label for="email" class="required">이메일</label>
							<div class="input-group">
								<input type="email" class="form-control" id="inputEmail"
									name="email" placeholder="example@dodak.com"
									required="required">
								<button type="button" class="btn btn-secondary"
									onclick="validateEmail()" id="buttonEmailCheck">중복 체크</button>
							</div>
							<small class="help-text">이메일 형식 검증 및 중복 불가.</small> <small
								class="help-text" id="emailMessage"></small>

						</div>
					</div>
				</div>

				<div class="form-section">
					<h3 class="section-title">
						<i class="fas fa-home"></i> 주소 정보
					</h3>
					<div class="grid-2">
						<div class="form-group">
							<label for="zipCode" class="required">우편 번호</label>
							<div class="input-group">
								<input type="text" class="form-control" id="zipCode"
									placeholder="우편번호" name="zipCode" readonly required>
								<button type="button" class="btn btn-secondary"
									id="buttonPostcodeSearch">검색</button>
							</div>
						</div>
						<div class="form-group">
							<label for="addr1" class="required">주소</label> <input type="text"
								class="form-control" id="streetAdr" name="addr1"
								placeholder="도로명 주소" readonly required>
						</div>
					</div>
					<div class="form-group">
						<label for="addr2">상세 주소</label> <input type="text"
							class="form-control" id="inputAddressDetail" name="addr2"
							placeholder="상세 주소 (선택 입력)">
					</div>
				</div>

				<div class="form-section" id="doctorInfoSection">
					<h3 class="section-title">
						<i class="fas fa-hospital-alt"></i> 의사 정보
					</h3>
					<div class="grid-2">
						<div class="form-group">
							<label for="hospitalName" class="required">소속 병원</label>
							<div class="input-group">
								<input type="text" id="hospNameDisplay" class="form-control"
									placeholder="병원 선택 버튼을 눌러주세요" readonly> <input
									type="hidden" id="hospIdx" name="hospIdx">
								<button type="button" class="btn btn-primary"
									id="openHospitalModalBtn">병원 선택/추가</button>
							</div>
						</div>
						<div class="form-group">
							<label for="specialty" class="required">전문 분야</label> <input
								type="text" id="inputSpecialty" name="specialty"
								class="form-control" placeholder="예: 정신 건강의학과">
						</div>
					</div>
				</div>




				<div class="form-section marketing-agreement-section">
					<h3 class="section-title">
						<i class="fas fa-bullhorn"></i> 마케팅 정보 수신 동의
					</h3>
					<div class="form-group">
						<input type="checkbox" id="agreeMarketing" name="agreeMarketing"
							value="Y"> <span class="checkbox-text">이메일 및 SMS를
							통한 마케팅 정보 수신에 동의합니다. (선택)</span>
					</div>
					<small class="help-text" style="color: var(--dodak-brown-dark);">언제든지
						마이페이지에서 동의 여부를 변경하실 수 있습니다.</small>
				</div>

				<div class="footer-actions-grid" style="width: 100%" align="center">
					<button class="btn btn-submit-small" id="updateBtn" type="submit">
						<i class="fas fa-check-circle"></i> 정보 수정 및 저장
					</button>
					<button type="button" class="btn btn-back-main btn-danger-style"
						id="withdrawBtn">
						<i class="fas fa-user-times"></i> 회원 탈퇴
					</button>
				</div>
			</form>
		</div>
		<div id="hospitalModal" class="modal">
			<div class="modal-content">
				<span class="close-button">&times;</span>
				<h3 class="modal-title">
					<i class="fas fa-hospital"></i> 병원 검색 및 추가
				</h3>

				<div class="search-hospital-section">
					<h4 class="sub-section-title">병원 검색</h4>
					<div class="form-group">
						<label for="hospitalSearchInput" class="required">병원 이름으로
							검색</label>
						<div class="input-group">
							<input type="text" id="hospitalSearchInput" class="form-control"
								placeholder="의료원">
							<button type="button" class="btn btn-secondary"
								id="searchHospitalBtn">검색</button>
						</div>
					</div>
					<div id="hospitalSearchResults" class="search-results"></div>
				</div>

				<div class="add-hospital-section">
					<h4 class="sub-section-title">병원 등록/수정</h4>
					<p>찾는 병원이 없으신가요? 직접 등록해보세요.</p>
					<button type="button" class="btn btn-primary"
						id="openAddHospitalFormBtn">병원 정보 입력</button>

					<div id="newHospitalForm" class="new-hospital-form"
						style="display: none;">
						<h5>병원 정보 입력</h5>
						<div class="grid-2">
							<div class="form-group">
								<label for="newHospitalName" class="required">병원명</label> <input
									type="text" id="newHospitalName" name="newHospitalName"
									class="form-control" placeholder="병원 이름"> <input
									type="hidden" id="newHospitalId" name="newHospitalId"
									class="form-control">
							</div>
							<div class="form-group">
								<label for="newHospitalTel" class="required">대표 전화번호</label> <input
									type="text" id="newHospitalTel" name="newHospitalTel"
									class="form-control"
									placeholder="02-XXXX-XXXX 또는 010-XXXX-XXXX" required>
							</div>
							<div class="form-group">
								<label for="newHospitalZipCode" class="required">우편 번호</label>
								<div class="input-group">
									<input type="text" id="newHospitalZipCode"
										name="newHospitalZipCode" class="form-control"
										placeholder="우편번호" readonly>
									<button type="button" class="btn btn-secondary"
										id="searchNewHospitalZipCodeBtn">검색</button>
								</div>
							</div>
							<div class="form-group full-width">
								<label for="newHospitalAddr1" class="required">주소</label> <input
									type="text" id="newHospitalAddr1" name="newHospitalAddr1"
									class="form-control" placeholder="기본 주소" readonly>
							</div>
							<div class="form-group full-width">
								<label for="newHospitalAddr2">상세 주소</label> <input type="text"
									id="newHospitalAddr2" name="newHospitalAddr2"
									class="form-control" placeholder="상세 주소 입력">
							</div>
						</div>

						<div class="new-hospital-form-actions">
							<button type="button" class="btn btn-primary"
								id="saveNewHospitalBtn">저장</button>
							<button type="button" class="btn btn-secondary"
								id="cancelAddHospitalBtn">취소</button>
						</div>
					</div>
				</div>

				<button type="button" class="btn btn-secondary"
					id="closeHospitalModalBtn">팝업 닫기</button>
			</div>
		</div>

	</div>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
	<script src="/js/script.js"></script>
	<script src="/js/calendar.js"></script>

	<script>
		let keyword = "";
		const buttonContainer = document.getElementById('diaryMood');
		//2. 부모 div에 클릭 이벤트 리스너를 추가합니다.
		buttonContainer.addEventListener('click', function(event) {
			// 3. 실제로 클릭된 요소(event.target)가 버튼(BUTTON)인지 확인합니다.
			if (event.target.tagName === 'BUTTON') {
				// 4. 클릭된 버튼의 value 속성 값을 가져옵니다.
				const selectedValue = event.target.value;
				
				const waitChk = document.getElementById('waitChk');
				
				
				if (waitChk.value == 0) {
					document.getElementById('waitChk').value = 1;
					
					keyword = selectedValue;					
					$.ajax({
						url : "http://192.168.0.9:8000/youtube/search",
						method : "POST",
						contentType : "application/json",
						data : JSON.stringify({
							keyword : keyword
						}),
						success : function(result) {
							console.log(result);
							const tbody = $("#youtubeResult").empty();							
							const data = result.results;
							let keywordSet = keyword;
							if(keyword=='분노') {
								keywordSet += "🔥";
							} else if(keyword=='불안') {
								keywordSet += "😟";
							} else if(keyword=='기쁨') {
								keywordSet += "😊";
							} else if(keyword=='슬픔') {
								keywordSet += "😢";
							} else if(keyword=='후회') {
								keywordSet += "😔";
							} else {								
								keywordSet += "🔥";
							}
							data.forEach((board,idx) => {
								tbody.append(`<div class="diary-item-card mood-${keyword}" onclick="window.open('${board.link}', '힐링케어', 'width=600,height=320');">
										<div
										class="d-flex justify-content-between align-items-start">
										<h5 class="fw-bold mb-1">${board.name}</h5>
										<span class="diary-mood-tag mood-${keyword}">${keywordSet}</span>
									</div>
									<p class="text-muted mb-2" style="font-size: 0.9em;">${board.videoDate}
										| ${board.viewCount}</p>
									<p class="mb-0 text-truncate">${board.videoDescript}</p>
								</div>`);
							});
							document.getElementById('waitChk').value = 0;
						},
						
					});
				} else {
					alert("[" + keyword	+ "]의 데이터를 가져오는 중입니다.\n완료가 되면 다시 선택해 주십시오.")
				}

			}
		});
		
		// 여기에 JavaScript 코드 추가
		const customNavbar = document.querySelector('.custom-navbar');
		let menucon = document.getElementById("menucon");

		if (customNavbar) {
		    // 페이지 로드 시에는 숨김 상태 (CSS가 처리)

		    // mouseover (마우스를 올렸을 때) 이벤트 리스너
		    customNavbar.addEventListener('mouseover', function() {
		        // show-navbar 클래스를 추가하여 네비게이션을 보이게 합니다.        
		        menucon.style.display= "block";
		    });

		    // mouseout (마우스를 떼었을 때) 이벤트 리스너
		    customNavbar.addEventListener('mouseout', function() {
		        // show-navbar 클래스를 제거하여 네비게이션을 숨깁니다.        
		    	menucon.style.display= "none";
		    });
		}
		
			
	</script>
</body>
</html>